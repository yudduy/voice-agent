# VERIES Voice Pipeline Configuration
# Generated by setup-voice-env.js
# 
# This configuration enables:
# - ElevenLabs TTS for high-quality speech synthesis
# - Groq STT for accurate speech recognition
# - Call recording for STT processing
# - Twilio as the telephony provider
# - OpenAI GPT-4 for conversation intelligence

# ==============================================
# PRIMARY VOICE PROVIDERS
# ==============================================

# ElevenLabs TTS (Primary Text-to-Speech)
ELEVENLABS_API_KEY=sk_788dd0e8b631590d7ec32a5dfaa8820b7f82a9d3b41ff7ed
ELEVENLABS_VOICE_ID=zXrHOaqGfXrumAftPX3v # Duy's voice lmao
TTS_PREFERENCE=elevenlabs

# Groq STT (Primary Speech-to-Text)
GROQ_API_KEY=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
GROQ_WHISPER_MODEL=distil-whisper
SPEECH_RECOGNITION_PREFERENCE=groq
ENABLE_GROQ_TRANSCRIPTION=true
ENABLE_RECORDING=true

# ==============================================
# CORE SERVICES
# ==============================================

# Twilio (Telephony Provider)
TWILIO_ACCOUNT_SID=ACf5586f5c2a880b922b0216fe50f6614b
TWILIO_AUTH_TOKEN=24d6d5e34c49874cd12b83310ec4ed34
TWILIO_PHONE_NUMBER=+17602845392

# OpenAI (Conversation AI)
OPENAI_API_KEY=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
OPENAI_MODEL=gpt-4.1-nano
OPENAI_STREAMING_MODEL=gpt-4.1-nano
AI_TEMPERATURE=0.7
AI_MAX_TOKENS=150
AI_STREAMING_MAX_TOKENS=120

# ==============================================
# DATABASE & CACHE
# ==============================================

# Supabase (Database)
SUPABASE_URL=https://rdnduoxlgutqgczlfvgy.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJkbmR1b3hsZ3V0cWdjemxmdmd5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE1NzE4OTMsImV4cCI6MjA2NzE0Nzg5M30.0cesvBw7l93Pq2iE8qlR4pdJe95p1BJZx8Ijj-JIc8A
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJkbmR1b3hsZ3V0cWdjemxmdmd5Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MTU3MTg5MywiZXhwIjoyMDY3MTQ3ODkzfQ.5CWHpJNG38tLt7mIt9hy9zi0dYukxnMutkySQGeKNQQ

# Upstash Redis (Cache)
UPSTASH_REDIS_REST_URL=https://informed-bear-50252.upstash.io
UPSTASH_REDIS_REST_TOKEN=AcRMAAIjcDE0MDVjM2YxN2ExNGM0N2VmOTgwMTZjNjE4MmYwNDY0N3AxMA

NGROK_AUTHTOKEN="2wOBFF9XBzU7M2wOBr4jI1Nz6tu_7wtvKdgiRPB12Cn6Rrtwo"

# ==============================================
# WEBHOOKS & URLS
# ==============================================

# Webhook Configuration (Update with your ngrok URL)
BASE_URL=https://0640f90c8706.ngrok-free.app
TEST_PHONE=+19713364433

# ======================
# Advanced Features
# ======================

# Core Feature Toggles
ENABLE_STREAMING=false  # Legacy streaming (disabled due to audio cutoff issues)
ENABLE_MEDIA_STREAMS=true  # Enable Twilio Media Streams for real-time Deepgram STT

# Use Deepgram STT for fastest performance (20-40ms improvement)
SPEECH_RECOGNITION_PREFERENCE=deepgram
ENABLE_RECORDING=true

# Deepgram STT Configuration
DEEPGRAM_API_KEY=90fd342e85efc1a1262d1cc09d5e865943613d57

# Response Caching Configuration
ENABLE_RESPONSE_CACHING=true
RESPONSE_CACHE_TTL=3600


# ======================
# Performance Optimization
# ======================

# Cache Configuration
CONVERSATION_TTL_HOURS=24
VOICE_MONITOR_MAX_HISTORY=100
TTS_CACHE_DIR=./public/tts-cache
TTS_CACHE_MAX_AGE_DAYS=7

# Performance Configuration
DEFAULT_API_TIMEOUT_MS=5000
DEFAULT_RETRY_COUNT=3
DEFAULT_RETRY_DELAY_MS=1000
MAX_RETRY_DELAY_MS=5000
RETRY_BACKOFF_FACTOR=2

# Timeout Settings
GROQ_STT_TIMEOUT_MS=10000
OPENAI_TIMEOUT_MS=30000
ELEVENLABS_TTS_TIMEOUT_MS=15000
TWILIO_WEBHOOK_TIMEOUT_MS=10000


# ======================
# Monitoring & Debugging
# ======================

# Metrics & Logging
ENABLE_DETAILED_METRICS=true
METRICS_INTERVAL=1000
LOG_LEVEL=info

# Performance Monitoring
DEBUG_LATENCY=false
DEBUG_STT=false
DEBUG_LLM=false
DEBUG_TTS=false

# ======================
# System Configuration
# ======================



# ==============================================
# TESTING & DEVELOPMENT
# ==============================================

# Test Configuration
TEST_PHONE=+19713364433
NODE_ENV=development
PORT=3000

# ==============================================
# OPTIONAL PROVIDERS (Fallbacks)
# ==============================================

# Hyperbolic TTS (Fallback - Optional)
# HYPERBOLIC_API_KEY=your_hyperbolic_api_key_optional

# ==============================================
# VOICE PIPELINE STATUS
# ==============================================
# ✅ ElevenLabs TTS: High-quality speech synthesis
# ✅ Groq STT: Accurate speech recognition with recording
# ✅ Twilio: Telephony provider with webhooks
# ✅ OpenAI GPT-4: Conversation intelligence
# ✅ Fallback chain: ElevenLabs → Hyperbolic → Twilio TTS
# ✅ STT chain: Groq → Twilio STT

WEBHOOK_BASE_URL=https://0640f90c8706.ngrok-free.app
